{% extends "admin/change_form.html" %}
{% load admin_static %}


{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/quill.base.css' %}" />
<link rel="stylesheet" href="{% static 'css/quill.snow.css' %}" />
<style type="text/css">
.ql-toolbar {
  height: 50px;
  width: 100%;
}
</style>
{% endblock extrastyle %}


{% block content %}
{{ block.super }}
<div id="toolbar">
  <!-- Add font size dropdown -->
  <select class="ql-size">
    <option value="10px">Small</option>
    <option value="13px" selected>Normal</option>
    <option value="18px">Large</option>
    <option value="32px">Huge</option>
  </select>
  <!-- Add a bold button -->
  <button class="ql-bold"></button>
</div>
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/quill.min.js' %}"></script>
<script type="text/javascript">
  $().ready(function() {
    // var $toolbar = $(document.createElement('div')).addClass(
    //     'toolbar')
    //   .append($(document.createElement('button'))
    //     .addClass('ql-bold')
    //     .html('Bold'));
    var $fieldBody = $('.field-body').prepend($toolbar);
    var configs = {
      theme: 'snow'
    };
    var fullEditor = new Quill('#id_body', {
      modules: {
        'multi-cursor': true,
        'toolbar': {
          container: '.toolbar'
        },
        'link-tooltip': true
      },
      theme: 'snow'
    });
    // Add a cursor to represent basic editor's cursor
    var cursorManager = fullEditor.getModule('multi-cursor');
    cursorManager.setCursor('gandalf', fullEditor.getLength() - 1,
      'Gandalf', 'rgba(255,153,51,0.9)');

    // Update basic editor's content with ours
    fullEditor.on('text-change', function(delta, source) {
      if (source === 'user') {
        basicEditor.updateContents(delta);
      }
    });
  });
</script>
{% endblock content %}
